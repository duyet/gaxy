# Gaxy Configuration Example
# Copy this file to .env and customize for your environment

# Server Configuration
PORT=3000
SHUTDOWN_TIMEOUT=10s
READ_TIMEOUT=30s
WRITE_TIMEOUT=30s

# Routing Configuration
# Leave empty for no prefix, or set to something like "/analytics"
ROUTE_PREFIX=

# Upstream Configuration
GOOGLE_ORIGIN=https://www.google-analytics.com
UPSTREAM_TIMEOUT=10s
UPSTREAM_MAX_IDLE_CONNS=100
UPSTREAM_MAX_CONNS=100
UPSTREAM_RETRY_COUNT=2
UPSTREAM_RETRY_DELAY=100ms

# Header Injection Configuration
# Inject request headers as query parameters
# Format: "header1,header2" or "header1__param1,header2__param2" for renaming
# Example: INJECT_PARAMS_FROM_REQ_HEADERS=x-email__uip,user-agent__ua
INJECT_PARAMS_FROM_REQ_HEADERS=

# Skip specific query parameters
# Example: SKIP_PARAMS_FROM_REQ_HEADERS=fbclid,gclid
SKIP_PARAMS_FROM_REQ_HEADERS=

# Cache Configuration
CACHE_ENABLED=true
CACHE_TTL=5m
CACHE_MAX_SIZE=104857600  # 100MB in bytes
CACHE_KEY_PATTERN=*.js

# Rate Limiting Configuration
RATE_LIMIT_ENABLED=true
RATE_LIMIT_RPS=100        # Requests per second per IP
RATE_LIMIT_BURST=200      # Burst allowance

# Logging Configuration
LOG_LEVEL=info            # debug, info, warn, error
LOG_FORMAT=json           # json or text

# Metrics Configuration
METRICS_ENABLED=true
METRICS_PATH=/metrics

# Security Configuration
ENABLE_CORS=true
CORS_ALLOW_ORIGINS=*
ENABLE_SECURITY_HEADERS=true
